# –í–≤–µ–¥–µ–Ω–∏–µ –≤ SQLModel

# –ó–Ω–∞–∫–æ–º—Å—Ç–≤–æ —Å SQLModel
'''
–†–∞–Ω–µ–µ –Ω–∞ –∫—É—Ä—Å–µ –º—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ SQLAlchemy –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—ã–º–∏ –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö
–∏ Pydantic –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∏ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö.

–°–µ–≥–æ–¥–Ω—è –º—ã –ø–æ–∑–Ω–∞–∫–æ–º–∏–º—Å—è —Å –Ω–æ–≤–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π, –∫–æ—Ç–æ—Ä–∞—è —Å–æ–µ–¥–∏–Ω—è–µ—Ç –≤ —Å–µ–±–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ SQLAlchemy
–∏ Pydantic. –ï–µ –Ω–∞–∑–≤–∞–Ω–∏–µ - SQLModel.

SQLModel - –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î –≤ Python, —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω–∞—è —Å–æ–∑–¥–∞—Ç–µ–ª–µ–º —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞ FastAPI.
–û–Ω–∞ –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –≤ —Å–µ–±–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ SQLAlchemy –∏ Pydantic.

–ì–ª–∞–≤–Ω–∞—è —Ü–µ–ª—å SQLModel - —É–ø—Ä–æ—Å—Ç–∏—Ç—å –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö, —É—Å—Ç—Ä–∞–Ω–∏—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
–º–µ–∂–¥—É –º–æ–¥–µ–ª—è–º–∏ –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö –∏ —Å—Ö–µ–º–∞–º–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö.

–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å–∞–π—Ç SQLModel - https://sqlmodel.tiangolo.com/

–î–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ SQLModel –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –Ω–∞–ø–∏—à–µ–º –∏ –∑–∞–ø—É—Å—Ç–∏–º —Å–ª–µ–¥—É—é—â—É—é –∫–æ–º–∞–Ω–¥—É:

pip install sqlmodel

–í–∞–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å, —á—Ç–æ SQLModel –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞ –ø–æ–≤–µ—Ä—Ö SQLAlchemy –∏ Pydantic —Å –Ω–µ–±–æ–ª—å—à–∏–º –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º
—Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–æ–≥–æ —Å–∞—Ö–∞—Ä–∞, –ø–æ—ç—Ç–æ–º—É –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –≤–µ—â–∏ –±—É–¥—É—Ç –Ω–∞–º –∑–Ω–∞–∫–æ–º—ã.
'''

# ------------------------------------------------------------------------------------------------

# –í–Ω–µ–¥—Ä–µ–Ω–∏–µ SQLModel –≤ –ø—Ä–æ–µ–∫—Ç
'''
–ù–∞ –ø—Ä–µ–¥—ã–¥—É—â–µ–º –∑–∞–Ω—è—Ç–∏–∏ –º—ã —Å–æ–∑–¥–∞–≤–∞–ª–∏ –ø—Ä–æ–µ–∫—Ç, –≥–¥–µ –≤–Ω–µ–¥—Ä—è–ª–∏ PostgreSQL –≤ FastAPI-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.
–ú—ã –≤–æ–∑—å–º–µ–º –¥–∞–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –∏ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ–º –µ–≥–æ –ø–æ–¥ SQLModel.

–°–û–í–ï–¢ –ü–†–ï–ü–û–î–ê–í–ê–¢–ï–õ–Æ: —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å—Ç—É–¥–µ–Ω—Ç—ã —Å–æ—Ö—Ä–∞–Ω–∏–ª–∏ –ø—Ä–æ–µ–∫—Ç —Å –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∑–∞–Ω—è—Ç–∏—è
–∏ –≥–æ—Ç–æ–≤—ã –µ–≥–æ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å.

–ï—Å–ª–∏ –º—ã –æ—Ç–∫—Ä–æ–µ–º —Ñ–∞–π–ª app/models/users.py, —Ç–æ —É–≤–∏–¥–∏–º, —á—Ç–æ —Å—É—â–Ω–æ—Å—Ç—å –æ–¥–Ω–∞ –∏ —Ç–∞ –∂–µ —Å—É—â–Ω–æ—Å—Ç—å User
–æ–ø–∏—Å–∞–Ω–∞ –∫–∞–∫ –±—ã –¥–≤—É–º—è –º–∏—Ä–∞–º–∏ - –ë–î (SQLAlchemy) –∏ API (Pydantic). –†–∞–Ω—å—à–µ –º—ã –≤—Å–µ–≥–¥–∞ –ø–∏—Å–∞–ª–∏
–∫–æ–¥ –∏–º–µ–Ω–Ω–æ —Ç–∞–∫, –∏, –∫–∞–∑–∞–ª–æ—Å—å –±—ã, –≤—Å–µ —Ö–æ—Ä–æ—à–æ. –û–¥–Ω–∞–∫–æ, –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –≤—Å–µ –∂–µ –∏–º–µ—é—Ç—Å—è.

–î–æ–ø—É—Å—Ç–∏–º, –≤–∏–¥–∏–º, —á—Ç–æ –ø–æ–ª–µ username –æ–ø–∏—Å–∞–Ω–æ –¥–≤–∞–∂–¥—ã:
- –≤ –∫–ª–∞—Å—Å–µ User –∫–∞–∫ Column(String(64), unique=True, nullable=False)
- –≤ –∫–ª–∞—Å—Å–µ UserBase –∫–∞–∫ username: str = Field(min_length=1, max_length=64)

–ü–æ—á–µ–º—É –∂–µ –æ–¥–Ω–æ –ø–æ–ª–µ –æ–ø–∏—Å–∞–Ω–æ –¥–≤–∞–∂–¥—ã? –ü–æ—Ç–æ–º—É —á—Ç–æ —ç—Ç–æ –¥–≤–∞ —Ä–∞–∑–Ω—ã—Ö —Å–ª–æ—è:
- SQLAlchemy –æ–ø–∏—Å—ã–≤–∞–µ—Ç –∫–∞–∫ —Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –ë–î
- Pydantic –æ–ø–∏—Å—ã–≤–∞–µ—Ç –∫–∞–∫ –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ API

–ì–¥–µ –∂–µ —Ç–æ–≥–¥–∞ –ø—Ä–æ–±–ª–µ–º–∞? –í –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–∏ –∏ –≤–æ–∑–º–æ–∂–Ω–æ–º –∏–∑-–∑–∞ —ç—Ç–æ–≥–æ —Ä–∞—Å—Å–∏–Ω—Ö—Ä–æ–Ω–µ.

–î–æ–ø—É—Å—Ç–∏–º, –º—ã –ø–æ–º–µ–Ω—è–ª–∏ –¥–ª–∏–Ω—É –ø–æ–ª—è username –¥–ª—è –ë–î:

username = Column(String(128), ...)

–ù–æ –≤ Pydantic-–º–æ–¥–µ–ª—å –º—ã –∑–∞–±—ã–ª–∏ –≤–Ω–µ—Å—Ç–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏ username –æ—Å—Ç–∞–ª–æ—Å—å –ø—Ä–µ–∂–Ω–∏–º:

username: str = Field(..., max_length=64)

–í –∏—Ç–æ–≥–µ –¥–ª—è –ø–æ–ª—è username –º—ã –ø–æ–ª—É—á–∞–µ–º:
- –ë–î –¥–æ–ø—É—Å–∫–∞–µ—Ç –¥–ª–∏–Ω—É 128 —Å–∏–º–≤–æ–ª–æ–≤
- API –¥–æ–ø—É—Å–∫–∞–µ—Ç –¥–ª–∏–Ω—É —Ç–æ–ª—å–∫–æ 64 —Å–∏–º–≤–æ–ª–∞
- —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ —Ç—Ä–∞—Ç–∏—Ç –≤—Ä–µ–º—è (—Å–∫–æ–ª—å–∫–æ - –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ) —á—Ç–æ–±—ã –Ω–∞–π—Ç–∏ –∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –±–∞–≥

–ö–æ–Ω–µ—á–Ω–æ, –æ–ø—ã—Ç–Ω—ã–π —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –≤—Ä—è–¥ –ª–∏ –¥–æ–ø—É—Å—Ç–∏—Ç —Ç–∞–∫—É—é –æ—à–∏–±–∫—É, –Ω–æ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤—Å–µ —Ä–∞–≤–Ω–æ
–Ω–µ —Ä–∞–≤–Ω–∞ –Ω—É–ª—é üòÅ

–ß—Ç–æ–±—ã —Ä–µ—à–∏—Ç—å —ç—Ç—É –∏ –¥—Ä—É–≥–∏–µ —Å–æ–ø—É—Ç—Å—Ç–≤—É—é—â–∏–µ –ø—Ä–æ–±–ª–µ–º—ã, SQLModel –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å –∫–ª–∞—Å—Å –º–æ–¥–µ–ª–∏ –∫–∞–∫:
- ORM-–º–æ–¥–µ–ª—å (—á—Ç–æ –±—ã–ª–æ —É SQLAlchemy)
- Pydantic-–º–æ–¥–µ–ª—å

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, SQLModel - —ç—Ç–æ –ø–æ–ø—ã—Ç–∫–∞ –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å –º–∏—Ä—ã –ë–î –∏ API —Ç–∞–∫, —á—Ç–æ–±—ã –æ–ø–∏—Å–∞–Ω–∏–µ —Å—É—â–Ω–æ—Å—Ç–µ–π
–±—ã–ª–æ –±–æ–ª–µ–µ –∫–æ–º–ø–∞–∫—Ç–Ω—ã–º –∏ –≤ –¥—É—Ö–µ FastAPI.
'''

# ------------------------------------------------------------------------------------------------

# –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è app/models/users.py

'''
–ü—Ä–∏—Å—Ç—É–ø–∏–º –∫ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Ñ–∞–π–ª–∞ app/models/users.py. 
–î–ª—è –Ω–∞—á–∞–ª–∞ –≤ –∏–º–ø–æ—Ä—Ç–∞—Ö –≤–º–µ—Å—Ç–æ sqlalchemy –∏ Pydantic –ø–æ–¥–∫–ª—é—á–∏–º SQLModel —Å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏:
'''

# app/models/users.py

from sqlalchemy import Column, Integer, String, Boolean
from pydantic import BaseModel, ConfigDict, Field
# ‚Üì
# Field() - —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫ –ø–æ–ª—è–º –º–æ–¥–µ–ª–µ–π –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫, –∫–∞–∫ –≤ Pydantic
# SQLModel - –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –º–æ–¥–µ–ª–µ–π
from sqlmodel import Field, SQLModel

'''
–í–∞–∂–Ω—ã–π –º–æ–º–µ–Ω—Ç - –∫–ª–∞—Å—Å Base –∏–∑ app/database.py –Ω–∞–º –±–æ–ª—å—à–µ –Ω–µ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è,
–ø–æ—ç—Ç–æ–º—É –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å –∏–º–ø–æ—Ä—Ç —Å –Ω–∏–º:
'''

from app.database import Base
# ‚Üì
# —É–¥–∞–ª—è–µ–º –∑–∞ –Ω–µ–Ω–∞–¥–æ–±–Ω–æ—Å—Ç—å—é

'''
–° –∏–º–ø–æ—Ä—Ç–∞–º–∏ —Ä–∞–∑–æ–±—Ä–∞–ª–∏—Å—å, —Ç–µ–ø–µ—Ä—å –ø—Ä–∏—Å—Ç—É–ø–∏–º –∫ –º–æ–¥–µ–ª—è–º. –î–ª—è –Ω–∞—á–∞–ª–∞ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ–º –º–æ–¥–µ–ª—å UserBase,
—Å–¥–µ–ª–∞–≤ –µ–µ –æ—Å–Ω–æ–≤–Ω–æ–π —Å—É—â–Ω–æ—Å—Ç—å—é, –æ—Ç –∫–æ—Ç–æ—Ä–æ–π –º—ã –±—É–¥–µ–º –Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å—Å—è –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.
–°–∞–º—É –º–æ–¥–µ–ª—å UserBase –±—É–¥–µ–º –Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å –æ—Ç –∫–ª–∞—Å—Å–∞ SQLModel:
'''

# –º–æ–¥–µ–ª—å —Å –æ–±—â–∏–º–∏ —Å–≤–æ–π—Å—Ç–≤–∞–º–∏ –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π
class UserBase(SQLModel):
    # unique=True - –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –ø–æ–ª—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏, —á—Ç–æ –ª–æ–≥–∏—á–Ω–æ –¥–ª—è username
    # index=True - –¥–ª—è –ø–æ–ª—è —Å–æ–∑–¥–∞–µ—Ç—Å—è SQL-–∏–Ω–¥–µ–∫—Å, –ø–æ–∑–≤–æ–ª—è–µ—Ç –±—ã—Å—Ç—Ä–µ–µ —Ä–∞–±–æ—Ç–∞—Ç—å –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏
    username: str = Field(unique=True, index=True, min_length=1, max_length=64)
    is_active: bool = True

'''
–î–∞–ª–µ–µ –∏–¥–µ–º –∫ –º–æ–¥–µ–ª–∏ UserCreate - –æ–Ω–∞ –æ—Å—Ç–∞–µ—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π, —Ç.–∫. —É–∂–µ –Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç UserBase.
'''

# –æ—Å—Ç–∞–≤–ª—è–µ–º –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
class UserCreate(UserBase):
    pass

'''
–ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ –º–æ–¥–µ–ª–∏ UserOut - –¥–ª—è –Ω–µ–µ –º—ã –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ–º –ø–æ–ª–µ id –∏ —É–±–µ—Ä–µ–º —Å—Ç—Ä–æ—á–∫—É
model_config = ConfigDict(from_attributes=True) –∑–∞ –Ω–µ–Ω–∞–¥–æ–±–Ω–æ—Å—Ç—å—é.

–ü–µ—Ä–µ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º UserOut –¥–∞–≤–∞–π—Ç–µ –Ω–µ–º–Ω–æ–≥–æ –ø–æ–≥–æ–≤–æ—Ä–∏–º –ø—Ä–æ —Ç–æ, –∫–∞–∫ –∏–º–µ–Ω–Ω–æ –º—ã
–±—É–¥–µ–º –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª–µ id. –ù–∞ —Å–∞–º–æ–º –¥–µ–ª–µ, –º—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–æ–≤—ã–π –¥–ª—è –Ω–∞—Å, –Ω–æ –ø–æ–ø—É–ª—è—Ä–Ω—ã–π
–≤ —Å—Ñ–µ—Ä–µ IT —Å—Ç–∞–Ω–¥–∞—Ä—Ç –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º UUID.

UUID (Universally Unique Identifier) - —Å—Ç–∞–Ω–¥–∞—Ä—Ç –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –≤ —Å–æ–∑–¥–∞–Ω–∏–∏ –ü–û.
–¶–µ–ª—å - –ø–æ–∑–≤–æ–ª–∏—Ç—å —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º —Å–∏—Å—Ç–µ–º–∞–º —É–Ω–∏–∫–∞–ª—å–Ω–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –±–µ–∑
—Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–π –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–∏.

–ü—Ä–∏–º–µ—Ä UUID: 886313e1-3b8a-5372-9b90-0c9aee199e5d

–í –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö UUID —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ –ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á, –≥–¥–µ –¥–∞–Ω–Ω—ã–µ
—Ö—Ä–∞–Ω—è—Ç—Å—è –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–µ—Ä–≤–µ—Ä–∞—Ö. –≠—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç –∏–∑–±–µ–∂–∞—Ç—å –ø—Ä–æ–±–ª–µ–º, –∫–æ–≥–¥–∞ –¥–≤–∞ —Å–µ—Ä–≤–µ—Ä–∞ —Å–ª—É—á–∞–π–Ω–æ
–ø—ã—Ç–∞—é—Ç—Å—è –ø—Ä–∏—Å–≤–æ–∏—Ç—å –æ–¥–Ω–æ–π –∑–∞–ø–∏—Å–∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π –Ω–æ–º–µ—Ä. 

–ü–æ–¥—Ä–æ–±–Ω–µ–µ –ø—Ä–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é UUID –≤ Python –º–æ–∂–Ω–æ –ø–æ—á–∏—Ç–∞—Ç—å —Ç—É—Ç: https://docs.python.org/3/library/uuid.html
'''

# UUID - –∫–ª–∞—Å—Å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ UUID
# uuid4() - —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ UUID –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫—Ä–∏–ø—Ç–æ—Å—Ç–æ–π–∫–∏—Ö —Å–ª—É—á–∞–π–Ω—ã—Ö —á–∏—Å–µ–ª
from uuid import UUID, uuid4
...
# –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ–º id –∏ —É–±–∏—Ä–∞–µ–º ConfigDict()
class UserOut(UserBase):
    id: UUID

'''
–ú–æ–¥–µ–ª–∏ –¥–ª—è API –º—ã –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–ª–∏, —Ç–µ–ø–µ—Ä—å –æ–±–Ω–æ–≤–∏–º –∫–ª–∞—Å—Å User –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î.
–í–∞–∂–Ω—ã–π –º–æ–º–µ–Ω—Ç - –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é SQLModel –ø–µ—Ä–µ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ –¥–ª—è –±—É–¥—É—â–µ–π —Ç–∞–±–ª–∏—Ü—ã –≤ –ë–î
–∏–∑ –Ω–∞–∑–≤–∞–Ω–∏—è –∫–ª–∞—Å—Å–∞. –ù–æ —Ç.–∫. —É –Ω–∞—Å —Å –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∑–∞–Ω—è—Ç–∏—è —É–∂–µ –µ—Å—Ç—å —Ç–∞–±–ª–∏—Ü–∞ users,
—Ç–æ –º—ã —è–≤–Ω–æ —É–∫–∞–∂–µ–º –µ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ, —á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å –∏–º–µ—é—â–µ–π—Å—è –ë–î.
'''

# –Ω–∞—Å–ª–µ–¥—É–µ–º—Å—è –æ—Ç UserBase, table=True –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ —ç—Ç–∞ –º–æ–¥–µ–ª—å –Ω—É–∂–Ω–∞ –¥–ª—è –ë–î
class User(UserBase, table=True):
    # —É–∫–∞–∑—ã–≤–∞–µ–º –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã —è–≤–Ω–æ –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å —É–∂–µ –∏–º–µ—é—â–µ–π—Å—è –ë–î
    __tablename__ = "users"
    # —É–∫–∞–∑—ã–≤–∞–µ–º id –≤ —Ñ–æ—Ä–º–∞—Ç–µ UUID
    # default_factory - —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
    id: UUID = Field(default_factory=uuid4, primary_key=True)

# ------------------------------------------------------------------------------------------------

# –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è app/database.py

'''
–° –º–æ–¥–µ–ª—è–º–∏ –º—ã —Ä–∞–∑–æ–±—Ä–∞–ª–∏—Å—å, —Ç–µ–ø–µ—Ä—å –±—ã—Å—Ç—Ä–µ–Ω—å–∫–æ –ø–æ–¥–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–µ–º —Ñ–∞–π–ª app/database.py.
–î–ª—è –Ω–∞—á–∞–ª–∞ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ–º –∏–º–ø–æ—Ä—Ç—ã –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å–æ —Å—Ç–∏–ª–µ–º SQLModel:
'''

from sqlalchemy.ext.asyncio import create_async_engine, AsyncSession, async_sessionmaker
# ‚Üì
# —É–¥–æ–±–Ω–∞—è –æ–±–µ—Ä—Ç–∫–∞ –Ω–∞–¥ AsyncSession –∏–∑ SQLAlchemy
from sqlmodel.ext.asyncio.session import AsyncSession
# –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç–∏ –æ–±—Ä–∞—â–∞–µ–º—Å—è –Ω–∞–ø—Ä—è–º—É—é –∫ SQLAlchemy
from sqlalchemy.ext.asyncio import create_async_engine, async_sessionmaker

'''
–ò–º–ø–æ—Ä—Ç—ã –≥–æ—Ç–æ–≤—ã, —Ç–µ–ø–µ—Ä—å —É–¥–∞–ª–∏–º –Ω–µ–Ω—É–∂–Ω—ã–π –∫–æ–¥, –æ –∫–æ—Ç–æ—Ä–æ–º –º—ã –≥–æ–≤–æ—Ä–∏–ª–∏ –ø—Ä–∏ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ –º–æ–¥–µ–ª–µ–π.
–ö–ª–∞—Å—Å Base –Ω–∞–º –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–µ–Ω, –ø–æ—ç—Ç–æ–º—É –≤–µ—Å—å —Å–≤—è–∑–∞–Ω–Ω—ã–π —Å –Ω–∏–º –∫–æ–¥ –º–æ–∂–Ω–æ —É–±—Ä–∞—Ç—å.
'''

from sqlalchemy.orm import DeclarativeBase

class Base(DeclarativeBase):
    pass
# ‚Üì
# —É–¥–∞–ª—è–µ–º –∑–∞ –Ω–µ–Ω–∞–¥–æ–±–Ω–æ—Å—Ç—å—é

# ------------------------------------------------------------------------------------------------

# –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è Alembic

'''
–° app/database.py –º—ã —Ä–∞–∑–æ–±—Ä–∞–ª–∏—Å—å, —Ç–µ–ø–µ—Ä—å –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –Ω–∞—à Alembic –Ω–∞ —Ä–∞–±–æ—Ç—É —Å SQLModel.
–ü–æ–π–¥–µ–º –≤ —Ñ–∞–π–ª alembic/env.py. –†–∞–Ω—å—à–µ Alembic –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–ª—Å—è –Ω–∞ Base.metadata –∏ –∫–ª–∞—Å—Å User –∫–∞–∫ 
—á–∏—Å—Ç—É—é SQLAlchemy-–º–æ–¥–µ–ª—å. –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–π –∫–æ–¥:
'''

# alembic/env.py

from app.database import Base
# ‚Üì
from sqlmodel import SQLModel
...
target_metadata = Base.metadata
# ‚Üì
target_metadata = SQLModel.metadata

'''
–ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ –≤ Alembic-—Ñ–∞–π–ª—ã –≤–Ω–µ—Å–µ–Ω—ã, –ø–æ–ø—Ä–æ–±—É–µ–º —Å–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é:

–í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:
alembic revision --autogenerate -m "switch users to sqlmodel"

–í –ø–∞–ø–∫–µ alembic/versions –ø–æ—è–≤–∏—Ç—Å—è —Ñ–∞–π–ª –º–∏–≥—Ä–∞—Ü–∏–∏ ..._switch_users_to_sqlmodel.py.
–ü–æ–ø—Ä–æ–±—É–µ–º –ø—Ä–∏–º–µ–Ω–∏—Ç—å –¥–∞–Ω–Ω—É—é –º–∏–≥—Ä–∞—Ü–∏—é:

–í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:
alembic upgrade head

–í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ —É –Ω–∞—Å –ø–æ—è–≤–∏—Ç—Å—è –æ—à–∏–±–∫–∞, –¥–∞–≤–∞–π—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:
(psycopg2.errors.DatatypeMismatch) 
–û–®–ò–ë–ö–ê: —Å—Ç–æ–ª–±–µ—Ü "id" –Ω–µ–ª—å–∑—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ —Ç–∏–ø—É uuid HINT: –í–æ–∑–º–æ–∂–Ω–æ, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–∫–∞–∑–∞—Ç—å "USING id::uuid". 
[SQL: ALTER TABLE users ALTER COLUMN id TYPE UUID ]

–†–∞–∑–±–µ—Ä–µ–º—Å—è –≤ –ø—Ä–æ–∏–∑–æ—à–µ–¥—à–µ–º - –≤ –ë–î —É –Ω–∞—Å —É–∂–µ –µ—Å—Ç—å –ø–æ–ª–µ users.id —Ç–∏–ø–∞ INTEGER, 
–∞ —Ä–∞–Ω–µ–µ –º—ã –ø–æ–º–µ–Ω—è–ª–∏ —Ç–∏–ø —ç—Ç–æ–≥–æ –ø–æ–ª–Ω—è –Ω–∞ UUID. 
–ü—Ä–∏ —ç—Ç–æ–º Alembic —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª —Å–ª–µ–¥—É—é—â–∏–π SQL-–∫–æ–¥: 

ALTER TABLE users ALTER COLUMN id TYPE UUID

–î–µ–ª–æ –≤ —Ç–æ–º, —á—Ç–æ PostgreSQL –Ω–µ —É–º–µ–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–≤–æ–¥–∏—Ç—å INTEGER –∫ UUID, –ø–æ—ç—Ç–æ–º—É –∏ –ø–∏—à–µ—Ç –ø–æ–¥—Å–∫–∞–∑–∫—É
–ø—Ä–æ USING ...::uuid. –ù–æ –µ—Å–ª–∏ –º—ã —Ç–∞–∫ —Å–¥–µ–ª–∞–µ–º –∏ –±—É–¥–µ—Ç —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ id::uuid, —Ç–æ —ç—Ç–æ —Ç–∞–∫–∂–µ –±—É–¥–µ—Ç –æ—à–∏–±–æ—á–Ω–æ, 
–≤–µ–¥—å, –Ω–∞–ø—Ä–∏–º–µ—Ä, 1 –∏ 886313e1-3b8a-5372-9b90-0c9aee199e5d –Ω–∏–∫–∞–∫ –Ω–µ –ø–æ—Ö–æ–∂–∏ –¥—Ä—É–≥ –Ω–∞ –¥—Ä—É–≥–∞ üòÜ

–ß—Ç–æ –∂–µ –Ω–∞–º –¥–µ–ª–∞—Ç—å? –ï—Å—Ç—å —Ä–∞–∑–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ—à–µ–Ω–∏—è —Å–∏—Ç—É–∞—Ü–∏–∏, –∞ —Ç.–∫. –º—ã –µ—â–µ –Ω–µ —É—Å–ø–µ–ª–∏ –Ω–∞–ø–æ–ª–Ω–∏—Ç—å –Ω–∞—à—É
–ë–î –≤–∞–∂–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏, —Ç–æ –ø—Ä–µ–¥–ª–∞–≥–∞—é –ø–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É users —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –æ—Ç–∫–∞—Ç–∏—Ç—å—Å—è –æ–±—Ä–∞—Ç–Ω–æ.
–ü—Ä–∏ —ç—Ç–æ–º —Ç–µ–∫—É—â–∏–µ –¥–∞–Ω–Ω—ã–µ –≤ —Ç–∞–±–ª–∏—Ü–µ users –±—É–¥—É—Ç –ø–æ—Ç–µ—Ä—è–Ω—ã. –ö–æ–Ω–µ—á–Ω–æ, —ç—Ç–æ –Ω–µ–∏–¥–µ–∞–ª—å–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç, 
–æ–± —ç—Ç–æ–º –º—ã –µ—â–µ –ø–æ–≥–æ–≤–æ—Ä–∏–º. –ê —Å–µ–π—á–∞—Å –ø–µ—Ä–µ–π–¥–µ–º –≤ —Ñ–∞–π–ª –º–∏–≥—Ä–∞—Ü–∏–∏ ..._switch_users_to_sqlmodel.py
–∏ –±—É–¥–µ–º –≤–Ω–æ—Å–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ñ—É–Ω–∫—Ü–∏–∏ upgrade() –∏ downgrade():
'''

# ..._switch_users_to_sqlmodel.py

from typing import Sequence, Union

from alembic import op
import sqlalchemy as sa
# –∏–º–ø–æ—Ä—Ç –¥–∏–∞–ª–µ–∫—Ç–∞ postgresql –¥–ª—è —Ç–∏–ø–∞ UUID
from sqlalchemy.dialects import postgresql
...
def upgrade() -> None:
    """Upgrade schema."""
    # ### commands auto generated by Alembic - please adjust! ###
    # —É–¥–∞–ª—è–µ–º —Ç–∞–±–ª–∏—Ü—É users —Å –ø–æ—Ç–µ—Ä–µ–π –¥–∞–Ω–Ω—ã—Ö
    op.drop_table('users')

    # —Å–æ–∑–¥–∞–µ–º —Ç–∞–±–ª–∏—Ü—É users –∑–∞–Ω–æ–≤–æ
    op.create_table(
        'users',
        sa.Column('id', postgresql.UUID(as_uuid=True), primary_key=True, nullable=False),
        sa.Column('username', sa.String(length=64), nullable=False),
        sa.Column('is_active', sa.Boolean(), nullable=False),
    )
    # –æ—Å—Ç–∞–≤–ª—è–µ–º —Å–æ–∑–¥–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–∞ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
    op.create_index(op.f('ix_users_username'), 'users', ['username'], unique=True)
    # ### end Alembic commands ###


def downgrade() -> None:
    """Downgrade schema."""
    # ### commands auto generated by Alembic - please adjust! ###
    op.drop_index(op.f('ix_users_username'), table_name='users')
    # –æ—Ç–∫–∞—Ç –Ω–∞–∑–∞–¥ —Ç–æ–∂–µ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã —Å –ø–æ—Ç–µ—Ä–µ–π –¥–∞–Ω–Ω—ã—Ö
    op.drop_table('users')

    # —Å–æ–∑–¥–∞–µ–º —Ç–∞–±–ª–∏—Ü—É users –∑–∞–Ω–æ–≤–æ
    op.create_table('users',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('username', sa.String(length=64), nullable=False),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.PrimaryKeyConstraint('id'),
    sa.UniqueConstraint('username')
    )
    # ### end Alembic commands ###

'''
–§–∞–π–ª –º–∏–≥—Ä–∞—Ü–∏–∏ –ø–æ–¥–ø—Ä–∞–≤–ª–µ–Ω, —Ç–µ–ø–µ—Ä—å –ø–æ–ø—Ä–æ–±—É–µ–º –ø–æ–≤—Ç–æ—Ä–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é.

–í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:
alembic upgrade head

–¢–µ–ø–µ—Ä—å –æ—à–∏–±–∫–∏ –Ω–µ—Ç! –ü–æ–ø—Ä–æ–±—É–µ–º –∑–∞–ø—É—Å—Ç–∏—Ç—å –Ω–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ —Å –ø–æ–º–æ—â—å—é —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞ POST /users/
—Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –í —Ç–µ–ª–µ –∑–∞–ø—Ä–æ—Å–∞ —É–∫–∞–∂–µ–º —Å–ª–µ–¥—É—é—â–µ–µ:

"username": "Dima123",
"is_active": true

–í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ —É–≤–∏–¥–∏–º —Å—Ç–∞—Ç—É—Å 200 –∏ –ø–æ–¥–æ–±–Ω–æ–µ —Ç–µ–ª–æ –æ—Ç–≤–µ—Ç–∞:

{
  "username": "Dima123",
  "is_active": true,
  "id": "29be42ef-6f12-4982-a357-0936b2847e14"
}

–ó–Ω–∞—á–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –±—ã–ª —Å–æ–∑–¥–∞–Ω –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ –Ω–∞—à—É –ë–î! –ß—Ç–æ–±—ã —ç—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –æ—Ç–∫—Ä–æ–µ–º DBeaver –∏ –ø—Ä–æ–≤–µ—Ä–∏–º
—Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ç–∞–±–ª–∏—Ü—ã users. –î–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –Ω–∞–∂–∞—Ç—å –Ω–∞ –∫—Ä–∞—Å–Ω—É—é –∫–Ω–æ–ø–∫—É —Å–≤–µ—Ä—Ö—É
—Å–ª–µ–≤–∞ —Å –Ω–∞–¥–ø–∏—Å—å—é "–û—Ç—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è", –∞ –∑–∞—Ç–µ–º —Å—Ä–∞–∑—É –∂–µ –Ω–∞–∂–∞—Ç—å –∑–µ–ª–µ–Ω—É—é –∫–Ω–æ–ø–∫—É "–ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è".
–¢–∞–∫ –º—ã "–æ—Å–≤–µ–∂–∏–º" —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å –Ω–∞—à–µ–π –ë–î –∏ –±—É–¥–µ–º —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ –æ–Ω–∞ –∏–º–µ–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É.
–í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ, –∫–æ–≥–¥–∞ –º—ã –æ—Ç–∫—Ä–æ–µ–º —Ç–∞–±–ª–∏—Ü—É users, —Ç–æ —É–≤–∏–¥–∏–º –¥–∞–Ω–Ω—ã–µ —Ç–æ–ª—å–∫–æ —á—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

id                                      username       is_active
29be42ef-6f12-4982-a357-0936b2847e14    Dima123        true

–ü–∞—Ä—É —Å–ª–æ–≤ –ø—Ä–æ –Ω–∞—à –º–µ—Ç–æ–¥ –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ë–î. –î–∞, –ø–æ–ª—É—á–∞–µ—Ç—Å—è, —á—Ç–æ –º—ã —Å–æ–∑–¥–∞–ª–∏ —Ç–∞–±–ª–∏—Ü—É –∑–∞–Ω–æ–≤–æ –∏ –µ—Å–ª–∏ –±—ã
—Ç–∞–º –±—ã–ª–∏ –≤–∞–∂–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, —Ç–æ –æ–Ω–∏ –±—ã –ø—Ä–æ–ø–∞–ª–∏. –¢–∞–∫–∂–µ, –µ—Å–ª–∏ –º—ã –∑–∞—Ö–æ—Ç–∏–º –æ—Ç–∫–∞—Ç–∏—Ç—å—Å—è –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â—É—é –≤–µ—Ä—Å–∏—é users, —Ç–æ
–¥–∞–Ω–Ω—ã–µ —Ç–∞–∫–∂–µ –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã. –ó–≤—É—á–∏—Ç, –∫–æ–Ω–µ—á–Ω–æ, –Ω–µ –æ—á–µ–Ω—å —Ö–æ—Ä–æ—à–æ. –ü–æ-—Ö–æ—Ä–æ—à–µ–º—É, –Ω–∞–º –Ω—É–∂–Ω–æ –±—ã–ª–æ –±—ã –æ–±–Ω–æ–≤–∏—Ç—å —Ñ–∞–π–ª –º–∏–≥—Ä–∞—Ü–∏–∏
—Ç–∞–∫, —á—Ç–æ–±—ã —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ –æ—Å—Ç–∞–ª–∏—Å—å –Ω–µ—Ç—Ä–æ–Ω—É—Ç—ã–º–∏. –¢–∞–∫ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ –±—ã –º—ã —Å–æ–∑–¥–∞–ª–∏ –Ω–æ–≤—ã–π —Å—Ç–æ–ª–±–µ—Ü –¥–ª—è UUID.
–ù–æ –µ—Å–ª–∏ –º—ã –º—ã –∑–∞—Ö–æ—Ç–∏–º –æ—Ç–∫–∞—Ç–∏—Ç—å—Å—è –æ–±—Ä–∞—Ç–Ω–æ, —Ç–æ UUID –æ–±—Ä–∞—Ç–Ω–æ –≤ INTEGER –±–µ–∑ –ø–æ—Ç–µ—Ä—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–µ –ø–æ–ª—É—á–∏—Ç—Å—è.
–ü–æ–ª—É—á–∞–µ—Ç—Å—è, —á—Ç–æ –∏ —ç—Ç–æ—Ç –≤–∞—Ä–∏–∞–Ω—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–∞–∫ —Å–µ–±–µ. 
–ö–∞–∫ –∂–µ —Ç–æ–≥–¥–∞ –ø–æ—Å—Ç—É–ø–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ? –ù–∞ —Å–∞–º–æ–º –¥–µ–ª–µ, –≥–æ—Ä–∞–∑–¥–æ –ª—É—á—à–µ –∑–∞—Ä–∞–Ω–µ–µ –ø—Ä–æ–¥—É–º–∞—Ç—å —Ç–∏–ø—ã –¥–ª—è –ø–æ–ª–µ–π –≤ –ë–î, –æ—Å–æ–±–µ–Ω–Ω–æ
–¥–ª—è –ø–µ—Ä–≤–∏—á–Ω—ã—Ö –∫–ª—é—á–µ–π. –ò —Ç–æ–≥–¥–∞ –ø—Ä–æ–±–ª–µ–º –±—É–¥–µ—Ç –≥–æ—Ä–∞–∑–¥–æ –º–µ–Ω—å—à–µ üòâ
''' 